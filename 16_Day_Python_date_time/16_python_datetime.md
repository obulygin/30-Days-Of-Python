<div align="center">
  <h1> 30 –î–Ω–µ–π Python: –î–µ–Ω—å 16 - Python Date time </h1>
  <a href="https://github.com/obulygin/30-Days-Of-Python/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=obulygin/30-Days-Of-Python" />
</div>

[<< –î–µ–Ω—å 15](../15_Day_Python_type_errors/15_python_type_errors.md) | [–î–µ–Ω—å 17 >>](../17_Day_Exception_handling/17_exception_handling.md)

![30DaysOfPython](../images/30daysofpython.png)
- [üìò –î–µ–Ω—å 16](#-–¥–µ–Ω—å-16)
  - [Python *datetime*](#python-datetime)
    - [–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ *datetime*](#–ø–æ–ª—É—á–µ–Ω–∏–µ-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏-–æ-datetime)
    - [–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –¥–∞—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º *strftime*](#—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤—ã–≤–æ–¥–∞-–¥–∞—Ç—ã-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-strftime)
    - [–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –æ–±—ä–µ–∫—Ç datetime —Å –ø–æ–º–æ—â—å—é **strptime**](#–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-—Å—Ç—Ä–æ–∫–∏-–≤-–æ–±—ä–µ–∫—Ç-datetime-—Å-–ø–æ–º–æ—â—å—é-strptime)
    - [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ *date* –∏–∑ –º–æ–¥—É–ª—è *datetime*](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-date-–∏–∑-–º–æ–¥—É–ª—è-datetime)
    - [–û–±—ä–µ–∫—Ç Time –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏](#–æ–±—ä–µ–∫—Ç-time-–¥–ª—è-–≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è-–≤—Ä–µ–º–µ–Ω–∏)
    - [–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏](#—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-–¥–≤—É–º—è-–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏-—Ç–æ—á–∫–∞–º–∏)
    - [–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º *timedelta*](#—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-–¥–≤—É–º—è-–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏-—Ç–æ—á–∫–∞–º–∏-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-timedelta)
  - [üíª –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: –î–µ–Ω—å 16](#-—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è-–¥–µ–Ω—å-16)
# üìò –î–µ–Ω—å 16

## Python *datetime*

–í Python –µ—Å—Ç—å –º–æ–¥—É–ª—å –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º datetime, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º. 

```py
import datetime
print(dir(datetime))
['MAXYEAR', 'MINYEAR', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'date', 'datetime', 'datetime_CAPI', 'sys', 'time', 'timedelta', 'timezone', 'tzinfo']
```

–° –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ dir –∏–ª–∏ help –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –º–æ–¥—É–ª–µ. –ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –≤ –º–æ–¥—É–ª–µ datetime –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –º—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ date, datetime, time –∏ timedelta. –î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ.

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ *datetime*

```py
from datetime import datetime
now = datetime.now()
print(now)                      # 2021-07-08 07:34:46.549883
day = now.day                   # 8
month = now.month               # 7
year = now.year                 # 2021
hour = now.hour                 # 7
minute = now.minute             # 38
second = now.second
timestamp = now.timestamp()
print(day, month, year, hour, minute)
print('timestamp', timestamp)
print(f'{day}/{month}/{year}, {hour}:{minute}')  # 8/7/2021, 7:38
```

**now.timestamp()** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É **(timestamp)** –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ **now** —Ç–∏–ø–∞ datetime. –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥, –ø—Ä–æ—à–µ–¥—à–∏—Ö —Å **–ø–æ–ª—É–Ω–æ—á–∏ 1 —è–Ω–≤–∞—Ä—è 1970 –≥–æ–¥–∞** –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –≤—Å–µ–º–∏—Ä–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (UTC) –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ now. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ –≤ —á–∏—Å–ª–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∏–ª–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—Ç–º–µ—Ç–æ–∫ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏.

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –¥–∞—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º *strftime*

```py
from datetime import datetime
new_year = datetime(2020, 1, 1)
print(new_year)      # 2020-01-01 00:00:00
day = new_year.day
month = new_year.month
year = new_year.year
hour = new_year.hour
minute = new_year.minute
second = new_year.second
print(day, month, year, hour, minute) #1 1 2020 0 0
print(f'{day}/{month}/{year}, {hour}:{minute}')  # 1/1/2020, 0:0

```

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ strftime –∏ –µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](https://strftime.org/).

```py
from datetime import datetime
# —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
now = datetime.now()
t = now.strftime("%H:%M:%S")
print("time:", t)
time_one = now.strftime("%m/%d/%Y, %H:%M:%S")
# —Ñ–æ—Ä–º–∞—Ç –º–µ—Å—è—Ü/–¥–µ–Ω—å/–≥–æ–¥ H:M:S
print("time one:", time_one)
time_two = now.strftime("%d/%m/%Y, %H:%M:%S")
# —Ñ–æ—Ä–º–∞—Ç –¥–µ–Ω—å/–º–µ—Å—è—Ü/–≥–æ–¥ H:M:S
print("time two:", time_two)
```

```sh
time: 01:05:01
time one: 12/05/2019, 01:05:01
time two: 05/12/2019, 01:05:01
```

–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –∏ –ø—Ä–∏–º–µ—Ä—ã strftime, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏.

![strftime](../images/strptime.jpg)

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –æ–±—ä–µ–∫—Ç datetime —Å –ø–æ–º–æ—â—å—é **strptime**
[–ó–¥–µ—Å—å](https://docs-python.ru/standart-library/modul-datetime-python/kody-formatirovanija-strftime-strptime-modulja-datetime/)  –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ–Ω—è—Ç—å —Ñ–æ—Ä–º–∞—Ç—ã.

```py
from datetime import datetime
date_string = "5 December, 2019"
print("date_string =", date_string)
date_object = datetime.strptime(date_string, "%d %B, %Y")
print("date_object =", date_object)
```

```sh
date_string = 5 December, 2019
date_object = 2019-12-05 00:00:00
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ *date* –∏–∑ –º–æ–¥—É–ª—è *datetime*

```py
from datetime import date
d = date(2020, 1, 1)
print(d)
print('–°–µ–≥–æ–¥–Ω—è—à–Ω—è—è –¥–∞—Ç–∞:', d.today())    # 2019-12-05
# –∑–∞–ø—Ä–æ—Å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç—ã
today = date.today()
print("–¢–µ–∫—É—â–∏–π –≥–æ–¥:", today.year)   # 2019
print("–¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü:", today.month) # 12
print("–¢–µ–∫—É—â–∏–π –¥–µ–Ω—å:", today.day)     # 5
```

### –û–±—ä–µ–∫—Ç Time –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏

```py
from datetime import time
# time(—á–∞—Å—ã = 0, –º–∏–Ω—É—Ç—ã = 0, —Å–µ–∫—É–Ω–¥—ã = 0)
a = time()
print("a =", a)
# time(—á–∞—Å—ã, –º–∏–Ω—É—Ç—ã –∏ —Å–µ–∫—É–Ω–¥—ã)
b = time(10, 30, 50)
print("b =", b)
# time(—á–∞—Å—ã, –º–∏–Ω—É—Ç—ã –∏ —Å–µ–∫—É–Ω–¥—ã)
c = time(hour=10, minute=30, second=50)
print("c =", c)
# time(—á–∞—Å—ã, –º–∏–Ω—É—Ç—ã, —Å–µ–∫—É–Ω–¥—ã –∏ –º–∏–ª–∏—Å–µ–∫—É–Ω–¥—ã)
d = time(10, 30, 50, 200555)
print("d =", d)
```

output  
a = 00:00:00  
b = 10:30:50  
c = 10:30:50  
d = 10:30:50.200555

### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏

```py
from datetime import date
today = date(year=2019, month=12, day=5)
new_year = date(year=2020, month=1, day=1)
time_left_for_newyear = new_year - today
print('–û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –Ω–æ–≤–æ–≥–æ –≥–æ–¥–∞: ', time_left_for_newyear) # –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –Ω–æ–≤–æ–≥–æ –≥–æ–¥–∞: 27 –¥–Ω–µ–π, 0:00:00

from datetime import datetime
t1 = datetime(year = 2019, month = 12, day = 5, hour = 0, minute = 59, second = 0)
t2 = datetime(year = 2020, month = 1, day = 1, hour = 0, minute = 0, second = 0)
diff = t2 - t1
print('–û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –Ω–æ–≤–æ–≥–æ –≥–æ–¥–∞:', diff) # –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –Ω–æ–≤–æ–≥–æ –≥–æ–¥–∞: 26 –¥–Ω–µ–π, 23:01:00
```

### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º *timedelta*

```py
from datetime import timedelta
t1 = timedelta(weeks=12, days=10, hours=4, seconds=20)
t2 = timedelta(days=7, hours=5, minutes=3, seconds=30)
t3 = t1 - t2
print("t3 =", t3)
```

```sh
    date_string = 5 December, 2019
    date_object = 2019-12-05 00:00:00
    t3 = 86 days, 22:56:50
```

üåï –¢—ã –≤–µ–ª–∏–∫–æ–ª–µ–ø–µ–Ω. –¢–µ–ø–µ—Ä—å —Ç—ã –Ω–∞ 16 —à–∞–≥–æ–≤ –±–ª–∏–∂–µ –∫ –º–µ—á—Ç–µ. –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –∑–∞–∫—Ä–µ–ø–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –ø–æ—Ç—Ä–µ–Ω–∏—Ä—É–µ–º –Ω–∞—à –º–æ–∑–≥!

## üíª –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: –î–µ–Ω—å 16

1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å, –º–µ—Å—è—Ü, –≥–æ–¥, —á–∞—Å, –º–∏–Ω—É—Ç—É –∏ –æ—Ç–º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ –º–æ–¥—É–ª—è datetime.
2. –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ "%m/%d/%Y, %H:%M:%S":
3. –°–µ–≥–æ–¥–Ω—è 5 –¥–µ–∫–∞–±—Ä—è, 2019. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –≤ –æ–±—ä–µ–∫—Ç time.
4. –†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç–æ–π –∏ –Ω–æ–≤—ã–º –≥–æ–¥–æ–º.
5. –†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É 1 —è–Ω–≤–∞—Ä—è 1970 –∏ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç–æ–π.
6. –ü–æ–¥—É–º–∞–π—Ç–µ, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å datetime? –ü—Ä–º–µ—Ä—ã:
   - –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤.
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–æ—á–∫–∏ –¥–ª—è –ª—é–±—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –Ω–∞ –±–ª–æ–≥–µ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π.

üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú ! üéâ

[<< –î–µ–Ω—å 15](../15_Day_Python_type_errors/15_python_type_errors.md) | [–î–µ–Ω—å 17 >>](../17_Day_Exception_handling/17_exception_handling.md)
